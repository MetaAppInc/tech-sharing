### 信息就是 位+上下文

ASCII表示文本字符，8个比特(位，0 or 1)为一个字符，表示一个字节

位是指一个bite的表示, 上下文是指这个字节的表示的数据对象

### 程序被其他程序翻译成其他不同格式

源程序→预处理→编译器→汇编器→链接器

预处理: 插入调用的包, 生成另一个C程序(文本)

编译器: 将C文本变成汇编

汇编器: 将汇编变成机器语言, 并打包成可重定位目标程序

链接阶段: 将调用的其他其他可执行文件编译进来

### 了解编译系统是如何工作的作用

1. 优化程序性能. 写C程序需要知道这些
2. 理解链接时出现的错误
3. 避免安全漏洞, 比如缓冲区溢出错误

### 处理器读并解释储存在内存中的命令

系统硬件的组成

总线: 贯穿系统的一根电子管道, 携带各个字节信息并负责在各个部件间传递. 总线传递特定的字节块, 也就是字. 明确定义上下文中一个"字"是多大

I/O设备: 系统与外部世界的联系的通道. I/O 设备通过控制器或适配器与 I/O 总线相连。控制器是I/O 设备本身或者主板上的芯片组，适配器是插在主板插槽上的卡

主存: 临时储存设备, 在处理器执行程序时, 用来放程序和程序处理的数据

处理器: 解释或执行储存在主存中指定的引擎. 核心是一个大小位一个字节的储存设备, 成为程序计数器(PC). PC指向主存中的某条机器语言指令(含有该条指令的地址)。处理器从程序计数器指向的内存处读取指令，解释指令中的位，执行该指令的简单操作，然后更新PC，指向下一条指令。

指令集架构描述每条机器代码的效果。微指令结构描述处理器实际上是如何实现的。

## Hello, world 是如何运行的

shell 将键盘键入的字符读入寄存再放到内存, 同时 shell 执行指令将 hello 目标文件中的代码和数据从磁盘复制到

### 高速缓存至关重要

计算机在处理时会花费很多时间把信息从一个地方复制到另一个地方. 寄存器快但是容量很小, 主存大但是比寄存器慢100倍, 因此会在CPU中加入高速缓存区域 L1, L2, L3, 大小递增, ALU的访问速度递减, 但要比从主存中访问快很多. 

由于局部性原理的存在，储存分级才有效果

局部性原理: 

时间局部性：如果一个信息项正在被访问，那么在近期它很可能还会被再次访问。

空间局部性：在最近的将来将用到的信息很可能与现在正在使用的信息在空间地址上是临近的。

### 储存设备形成层次结构

金字塔结构

寄存器→L1高速缓存→L2→L3→主存→本地磁盘→远程储存

## 操作系统管理硬件

操作系统的两个基本功能

1. 防止硬件被失控的软件滥用
2. 向应用程序提供简单一致的机制来控制复杂而又大不相同得到低级硬件设备

### 进程

进程使得CPU看起来是单独地执行每一个程序。实际上，一个CPU在同一时间只能执行一个进程的代码。转移控制权时，进行上下文切换。

进程的切换由操作系统内核管理，内核是操作系统代码常驻主存的部分

### 线程

进程由多个线程的可执行单元构成，每个线程都运行在进程的上下文中。

与进程不同的是同类的多个线程共享进程的堆和方法区资源，但每个线程有自己的程序计数器、虚拟机栈和本地方法栈，所以系统在产生一个线程，或是在各个线程之间作切换工作时，负担要比进程小得多，也正因为如此，线程也被称为轻量级进程。

### 文件

文件就是字节序列，每个 I/O 设备，都可以看成是文件

## 重要主题

系统是硬件和系统软件互相交织的集合体

### Amdahl定律

要想显著地加速整个系统，必须提升全系统中相当大部分的速度

### 并发和并行

并发：同时具有多个活动的系统

并行：用并发来使得一个系统运行更快

超线程：允许一个CPU执行多个控制流。当一个线程必须等到某些数据装载到高速缓存中时，CPU可以去执行另外一个线程。
